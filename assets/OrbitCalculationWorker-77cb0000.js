(function(){"use strict";/*!
 * satellite-js v5.0.0
 * (c) 2013 Shashwat Kandadai and UCSC
 * https://github.com/shashwatak/satellite-js
 * License: MIT
 */var _0=Math.PI,d0=_0*2,r2=_0/180,Y2=398600.8,L0=6378.135,J0=60/Math.sqrt(L0*L0*L0/Y2),y2=L0*J0/60,_2=1/J0,V0=.001082616,J2=-253881e-11,X2=-165597e-11,Z0=J2/V0,h2=2/3;function Q2(v,a){for(var n=[31,v%4===0?29:28,31,30,31,30,31,31,30,31,30,31],x=Math.floor(a),l=1,d=0;x>d+n[l-1]&&l<12;)d+=n[l-1],l+=1;var w=l,f=x-d,m=(a-x)*24,b=Math.floor(m);m=(m-b)*60;var z=Math.floor(m),I=(m-z)*60;return{mon:w,day:f,hr:b,minute:z,sec:I}}function k2(v,a,n,x,l,d){var w=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0;return 367*v-Math.floor(7*(v+Math.floor((a+9)/12))*.25)+Math.floor(275*a/9)+n+17210135e-1+((w/6e4+d/60+l)/60+x)/24}function q2(v,a,n,x,l,d,w){if(v instanceof Date){var f=v;return k2(f.getUTCFullYear(),f.getUTCMonth()+1,f.getUTCDate(),f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds())}return k2(v,a,n,x,l,d,w)}function P2(v,a){var n=v.e3,x=v.ee2,l=v.peo,d=v.pgho,w=v.pho,f=v.pinco,m=v.plo,b=v.se2,z=v.se3,I=v.sgh2,V=v.sgh3,C=v.sgh4,Z=v.sh2,h0=v.sh3,K=v.si2,G=v.si3,t=v.sl2,N=v.sl3,s=v.sl4,L=v.t,r=v.xgh2,u=v.xgh3,k=v.xgh4,D=v.xh2,R=v.xh3,j=v.xi2,M=v.xi3,n0=v.xl2,Y=v.xl3,c=v.xl4,p=v.zmol,i0=v.zmos,_=a.init,B=a.opsmode,m0=a.ep,v0=a.inclp,g=a.nodep,q0=a.argpp,g0=a.mp,i,h,H,A,X,P,T0,a0,f0,y,U,$,S,T,O,q,e,J,Q,F,W,z0=119459e-10,l0=.01675,A0=.00015835218,u0=.0549;W=i0+z0*L,_==="y"&&(W=i0),F=W+2*l0*Math.sin(W),e=Math.sin(F),y=.5*e*e-.25,U=-.5*e*Math.cos(F);var I0=b*y+z*U,S0=K*y+G*U,p0=t*y+N*U+s*e,x0=I*y+V*U+C*e,e0=Z*y+h0*U;W=p+A0*L,_==="y"&&(W=p),F=W+2*u0*Math.sin(W),e=Math.sin(F),y=.5*e*e-.25,U=-.5*e*Math.cos(F);var F0=x*y+n*U,O0=j*y+M*U,o0=n0*y+Y*U+c*e,M0=r*y+u*U+k*e,B0=D*y+R*U;return $=I0+F0,O=S0+O0,q=p0+o0,S=x0+M0,T=e0+B0,_==="n"&&($-=l,O-=f,q-=m,S-=d,T-=w,v0+=O,m0+=$,A=Math.sin(v0),H=Math.cos(v0),v0>=.2?(T/=A,S-=H*T,q0+=S,g+=T,g0+=q):(P=Math.sin(g),X=Math.cos(g),i=A*P,h=A*X,T0=T*X+O*H*P,a0=-T*P+O*H*X,i+=T0,h+=a0,g%=d0,g<0&&B==="a"&&(g+=d0),J=g0+q0+H*g,f0=q+S-O*g*A,J+=f0,Q=g,g=Math.atan2(i,h),g<0&&B==="a"&&(g+=d0),Math.abs(Q-g)>_0&&(g<Q?g+=d0:g-=d0),g0+=q,q0=J-g0-H*g)),{ep:m0,inclp:v0,nodep:g,argpp:q0,mp:g0}}function V2(v){var a=v.epoch,n=v.ep,x=v.argpp,l=v.tc,d=v.inclp,w=v.nodep,f=v.np,m,b,z,I,V,C,Z,h0,K,G,t,N,s,L,r,u,k,D,R,j,M,n0,Y,c,p,i0,_,B,m0,v0,g,q0,g0,i,h,H,A,X,P,T0,a0,f0,y,U,$,S,T,O,q,e,J,Q,F,W,z0,l0,A0,u0,I0,S0,p0,x0,e0,F0=.01675,O0=.0549,o0=29864797e-13,M0=47968065e-14,B0=.39785416,G0=.91744867,b0=.1945905,X0=-.98088458,j0=f,H0=n,N0=Math.sin(w),k0=Math.cos(w),w0=Math.sin(x),C0=Math.cos(x),P0=Math.sin(d),K0=Math.cos(d),o=H0*H0,W0=1-o,E0=Math.sqrt(W0),$0=0,E=0,o2=0,l2=0,x2=0,Q0=a+18261.5+l/1440,Y0=(4.523602-.00092422029*Q0)%d0,y0=Math.sin(Y0),s0=Math.cos(Y0),d2=.91375164-.03568096*s0,n2=Math.sqrt(1-d2*d2),D0=.089683511*y0/n2,U0=Math.sqrt(1-D0*D0),r0=5.8351514+.001944368*Q0,t0=.39785416*y0/n2,T2=U0*s0+.91744867*D0*y0;t0=Math.atan2(t0,T2),t0+=r0-Y0;var w2=Math.cos(t0),I2=Math.sin(t0);j=b0,M=X0,c=G0,p=B0,n0=k0,Y=N0,t=o0;for(var S2=1/j0,f2=0;f2<2;)f2+=1,m=j*n0+M*c*Y,z=-M*n0+j*c*Y,Z=-j*Y+M*c*n0,h0=M*p,K=M*Y+j*c*n0,G=j*p,b=K0*Z+P0*h0,I=K0*K+P0*G,V=-P0*Z+K0*h0,C=-P0*K+K0*G,N=m*C0+b*w0,s=z*C0+I*w0,L=-m*w0+b*C0,r=-z*w0+I*C0,u=V*w0,k=C*w0,D=V*C0,R=C*C0,p0=12*N*N-3*L*L,x0=24*N*s-6*L*r,e0=12*s*s-3*r*r,Q=3*(m*m+b*b)+p0*o,F=6*(m*z+b*I)+x0*o,W=3*(z*z+I*I)+e0*o,z0=-6*m*V+o*(-24*N*D-6*L*u),l0=-6*(m*C+z*V)+o*(-24*(s*D+N*R)+-6*(L*k+r*u)),A0=-6*z*C+o*(-24*s*R-6*r*k),u0=6*b*V+o*(24*N*u-6*L*D),I0=6*(I*V+b*C)+o*(24*(s*u+N*k)-6*(r*D+L*R)),S0=6*I*C+o*(24*s*k-6*r*R),Q=Q+Q+W0*p0,F=F+F+W0*x0,W=W+W+W0*e0,T=t*S2,S=-.5*T/E0,O=T*E0,$=-15*H0*O,q=N*L+s*r,e=s*L+N*r,J=s*r-N*L,f2===1&&(i0=$,_=S,B=T,m0=O,v0=q,g=e,q0=J,g0=Q,i=F,h=W,H=z0,A=l0,X=A0,P=u0,T0=I0,a0=S0,f0=p0,y=x0,U=e0,j=w2,M=I2,c=d2,p=n2,n0=U0*k0+D0*N0,Y=N0*U0-k0*D0,t=M0);var z2=(4.7199672+(.2299715*Q0-r0))%d0,D2=(6.2565837+.017201977*Q0)%d0,U2=2*i0*g,R0=2*i0*q0,c0=2*_*A,O2=2*_*(X-H),C2=-2*B*i,G2=-2*B*(h-g0),L2=-2*B*(-21-9*o)*F0,i2=2*m0*y,F2=2*m0*(U-f0),E2=-18*m0*F0,p2=-2*_*T0,u2=-2*_*(a0-P),e2=2*$*e,j2=2*$*J,N2=2*S*l0,n1=2*S*(A0-z0),i1=-2*T*F,r1=-2*T*(W-Q),h1=-2*T*(-21-9*o)*O0,m1=2*O*x0,g1=2*O*(e0-p0),l1=-18*O*O0,x1=-2*S*I0,f1=-2*S*(S0-u0);return{snodm:N0,cnodm:k0,sinim:P0,cosim:K0,sinomm:w0,cosomm:C0,day:Q0,e3:j2,ee2:e2,em:H0,emsq:o,gam:r0,peo:$0,pgho:l2,pho:x2,pinco:E,plo:o2,rtemsq:E0,se2:U2,se3:R0,sgh2:i2,sgh3:F2,sgh4:E2,sh2:p2,sh3:u2,si2:c0,si3:O2,sl2:C2,sl3:G2,sl4:L2,s1:$,s2:S,s3:T,s4:O,s5:q,s6:e,s7:J,ss1:i0,ss2:_,ss3:B,ss4:m0,ss5:v0,ss6:g,ss7:q0,sz1:g0,sz2:i,sz3:h,sz11:H,sz12:A,sz13:X,sz21:P,sz22:T0,sz23:a0,sz31:f0,sz32:y,sz33:U,xgh2:m1,xgh3:g1,xgh4:l1,xh2:x1,xh3:f1,xi2:N2,xi3:n1,xl2:i1,xl3:r1,xl4:h1,nm:j0,z1:Q,z2:F,z3:W,z11:z0,z12:l0,z13:A0,z21:u0,z22:I0,z23:S0,z31:p0,z32:x0,z33:e0,zmol:z2,zmos:D2}}function Z2(v){var a=v.cosim,n=v.argpo,x=v.s1,l=v.s2,d=v.s3,w=v.s4,f=v.s5,m=v.sinim,b=v.ss1,z=v.ss2,I=v.ss3,V=v.ss4,C=v.ss5,Z=v.sz1,h0=v.sz3,K=v.sz11,G=v.sz13,t=v.sz21,N=v.sz23,s=v.sz31,L=v.sz33,r=v.t,u=v.tc,k=v.gsto,D=v.mo,R=v.mdot,j=v.no,M=v.nodeo,n0=v.nodedot,Y=v.xpidot,c=v.z1,p=v.z3,i0=v.z11,_=v.z13,B=v.z21,m0=v.z23,v0=v.z31,g=v.z33,q0=v.ecco,g0=v.eccsq,i=v.emsq,h=v.em,H=v.argpm,A=v.inclm,X=v.mm,P=v.nm,T0=v.nodem,a0=v.irez,f0=v.atime,y=v.d2201,U=v.d2211,$=v.d3210,S=v.d3222,T=v.d4410,O=v.d4422,q=v.d5220,e=v.d5232,J=v.d5421,Q=v.d5433,F=v.dedt,W=v.didt,z0=v.dmdt,l0=v.dnodt,A0=v.domdt,u0=v.del1,I0=v.del2,S0=v.del3,p0=v.xfact,x0=v.xlamo,e0=v.xli,F0=v.xni,O0,o0,M0,B0,G0,b0,X0,j0,H0,N0,k0,w0,C0,P0,K0,o,W0,E0,$0,E,o2,l2,x2,Q0,Y0,y0,s0,d2,n2,D0,U0,r0,t0=17891679e-13,T2=21460748e-13,w2=22123015e-14,I2=17891679e-13,S2=73636953e-16,f2=21765803e-16,z2=.0043752690880113,D2=37393792e-14,U2=11428639e-14,R0=.00015835218,c0=119459e-10;a0=0,P<.0052359877&&P>.0034906585&&(a0=1),P>=.00826&&P<=.00924&&h>=.5&&(a0=2);var O2=b*c0*C,C2=z*c0*(K+G),G2=-c0*I*(Z+h0-14-6*i),L2=V*c0*(s+L-6),i2=-c0*z*(t+N);(A<.052359877||A>_0-.052359877)&&(i2=0),m!==0&&(i2/=m);var F2=L2-a*i2;F=O2+x*R0*f,W=C2+l*R0*(i0+_),z0=G2-R0*d*(c+p-14-6*i);var E2=w*R0*(v0+g-6),p2=-R0*l*(B+m0);(A<.052359877||A>_0-.052359877)&&(p2=0),A0=F2+E2,l0=i2,m!==0&&(A0-=a/m*p2,l0+=p2/m);var u2=0,e2=(k+u*z2)%d0;if(h+=F*r,A+=W*r,H+=A0*r,T0+=l0*r,X+=z0*r,a0!==0){if(D0=Math.pow(P/J0,h2),a0===2){U0=a*a;var j2=h;h=q0;var N2=i;i=g0,r0=h*i,P0=-.306-(h-.64)*.44,h<=.65?(K0=3.616-13.247*h+16.29*i,W0=-19.302+117.39*h-228.419*i+156.591*r0,E0=-18.9068+109.7927*h-214.6334*i+146.5816*r0,$0=-41.122+242.694*h-471.094*i+313.953*r0,E=-146.407+841.88*h-1629.014*i+1083.435*r0,o2=-532.114+3017.977*h-5740.032*i+3708.276*r0):(K0=-72.099+331.819*h-508.738*i+266.724*r0,W0=-346.844+1582.851*h-2415.925*i+1246.113*r0,E0=-342.585+1554.908*h-2366.899*i+1215.972*r0,$0=-1052.797+4758.686*h-7193.992*i+3651.957*r0,E=-3581.69+16178.11*h-24462.77*i+12422.52*r0,h>.715?o2=-5149.66+29936.92*h-54087.36*i+31324.56*r0:o2=1464.74-4664.75*h+3763.64*i),h<.7?(Q0=-919.2277+4988.61*h-9064.77*i+5542.21*r0,l2=-822.71072+4568.6173*h-8491.4146*i+5337.524*r0,x2=-853.666+4690.25*h-8624.77*i+5341.4*r0):(Q0=-37995.78+161616.52*h-229838.2*i+109377.94*r0,l2=-51752.104+218913.95*h-309468.16*i+146349.42*r0,x2=-40023.88+170470.89*h-242699.48*i+115605.82*r0),Y0=m*m,O0=.75*(1+2*a+U0),o0=1.5*Y0,B0=1.875*m*(1-2*a-3*U0),G0=-1.875*m*(1+2*a-3*U0),X0=35*Y0*O0,j0=39.375*Y0*Y0,H0=9.84375*m*(Y0*(1-2*a-5*U0)+.33333333*(-2+4*a+6*U0)),N0=m*(4.92187512*Y0*(-2-4*a+10*U0)+6.56250012*(1+2*a-3*U0)),k0=29.53125*m*(2-8*a+U0*(-12+8*a+10*U0)),w0=29.53125*m*(-2-8*a+U0*(12+8*a-10*U0)),d2=P*P,n2=D0*D0,s0=3*d2*n2,y0=s0*I2,y=y0*O0*P0,U=y0*o0*K0,s0*=D0,y0=s0*D2,$=y0*B0*W0,S=y0*G0*E0,s0*=D0,y0=2*s0*S2,T=y0*X0*$0,O=y0*j0*E,s0*=D0,y0=s0*U2,q=y0*H0*o2,e=y0*N0*x2,y0=2*s0*f2,J=y0*k0*l2,Q=y0*w0*Q0,x0=(D+M+M-(e2+e2))%d0,p0=R+z0+2*(n0+l0-z2)-j,h=j2,i=N2}a0===1&&(C0=1+i*(-2.5+.8125*i),W0=1+2*i,o=1+i*(-6+6.60937*i),O0=.75*(1+a)*(1+a),M0=.9375*m*m*(1+3*a)-.75*(1+a),b0=1+a,b0*=1.875*b0*b0,u0=3*P*P*D0*D0,I0=2*u0*O0*C0*t0,S0=3*u0*b0*o*w2*D0,u0=u0*M0*W0*T2*D0,x0=(D+M+n-e2)%d0,p0=R+Y+z0+A0+l0-(j+z2)),e0=x0,F0=j,f0=0,P=j+u2}return{em:h,argpm:H,inclm:A,mm:X,nm:P,nodem:T0,irez:a0,atime:f0,d2201:y,d2211:U,d3210:$,d3222:S,d4410:T,d4422:O,d5220:q,d5232:e,d5421:J,d5433:Q,dedt:F,didt:W,dmdt:z0,dndt:u2,dnodt:l0,domdt:A0,del1:u0,del2:I0,del3:S0,xfact:p0,xlamo:x0,xli:e0,xni:F0}}function W2(v){var a=(v-2451545)/36525,n=-62e-7*a*a*a+.093104*a*a+(876600*3600+8640184812866e-6)*a+67310.54841;return n=n*r2/240%d0,n<0&&(n+=d0),n}function $2(){return(arguments.length<=0?void 0:arguments[0])instanceof Date||arguments.length>1?W2(q2.apply(void 0,arguments)):W2.apply(void 0,arguments)}function t2(v){var a=v.ecco,n=v.epoch,x=v.inclo,l=v.opsmode,d=v.no,w=a*a,f=1-w,m=Math.sqrt(f),b=Math.cos(x),z=b*b,I=Math.pow(J0/d,h2),V=.75*V0*(3*z-1)/(m*f),C=V/(I*I),Z=I*(1-C*C-C*(1/3+134*C*C/81));C=V/(Z*Z),d/=1+C;var h0=Math.pow(J0/d,h2),K=Math.sin(x),G=h0*f,t=1-5*z,N=-t-z-z,s=1/h0,L=G*G,r=h0*(1-a),u="n",k;if(l==="a"){var D=n-7305,R=Math.floor(D+1e-8),j=D-R,M=.017202791694070362,n0=1.7321343856509375,Y=5075514194322695e-30,c=M+d0;k=(n0+M*R+c*j+D*D*Y)%d0,k<0&&(k+=d0)}else k=$2(n+24332815e-1);return{no:d,method:u,ainv:s,ao:h0,con41:N,con42:t,cosio:b,cosio2:z,eccsq:w,omeosq:f,posq:L,rp:r,rteosq:m,sinio:K,gsto:k}}function R2(v){var a=v.irez,n=v.d2201,x=v.d2211,l=v.d3210,d=v.d3222,w=v.d4410,f=v.d4422,m=v.d5220,b=v.d5232,z=v.d5421,I=v.d5433,V=v.dedt,C=v.del1,Z=v.del2,h0=v.del3,K=v.didt,G=v.dmdt,t=v.dnodt,N=v.domdt,s=v.argpo,L=v.argpdot,r=v.t,u=v.tc,k=v.gsto,D=v.xfact,R=v.xlamo,j=v.no,M=v.atime,n0=v.em,Y=v.argpm,c=v.inclm,p=v.xli,i0=v.mm,_=v.xni,B=v.nodem,m0=v.nm,v0=.13130908,g=2.8843198,q0=.37448087,g0=5.7686396,i=.95240898,h=1.8014998,H=1.050833,A=4.4108898,X=.0043752690880113,P=720,T0=-720,a0=259200,f0,y,U,$,S,T,O,q,e=0,J=0,Q=(k+u*X)%d0;if(n0+=V*r,c+=K*r,Y+=N*r,B+=t*r,i0+=G*r,a!==0){(M===0||r*M<=0||Math.abs(r)<Math.abs(M))&&(M=0,_=j,p=R),r>0?f0=P:f0=T0;for(var F=381;F===381;)a!==2?(O=C*Math.sin(p-v0)+Z*Math.sin(2*(p-g))+h0*Math.sin(3*(p-q0)),S=_+D,T=C*Math.cos(p-v0)+2*Z*Math.cos(2*(p-g))+3*h0*Math.cos(3*(p-q0)),T*=S):(q=s+L*M,U=q+q,y=p+p,O=n*Math.sin(U+p-g0)+x*Math.sin(p-g0)+l*Math.sin(q+p-i)+d*Math.sin(-q+p-i)+w*Math.sin(U+y-h)+f*Math.sin(y-h)+m*Math.sin(q+p-H)+b*Math.sin(-q+p-H)+z*Math.sin(q+y-A)+I*Math.sin(-q+y-A),S=_+D,T=n*Math.cos(U+p-g0)+x*Math.cos(p-g0)+l*Math.cos(q+p-i)+d*Math.cos(-q+p-i)+m*Math.cos(q+p-H)+b*Math.cos(-q+p-H)+2*(w*Math.cos(U+y-h)+f*Math.cos(y-h)+z*Math.cos(q+y-A)+I*Math.cos(-q+y-A)),T*=S),Math.abs(r-M)>=P?F=381:(J=r-M,F=0),F===381&&(p+=S*f0+O*a0,_+=O*f0+T*a0,M+=f0);m0=_+O*J+T*J*J*.5,$=p+S*J+O*J*J*.5,a!==1?(i0=$-2*B+2*Q,e=m0-j):(i0=$-B-Y+Q,e=m0-j),m0=j+e}return{atime:M,em:n0,argpm:Y,inclm:c,xli:p,mm:i0,xni:_,nodem:B,dndt:e,nm:m0}}function s2(v,a){var n,x,l,d,w,f,m,b,z,I,V,C,Z,h0,K,G,t,N,s,L,r,u,k,D,R,j,M,n0=15e-13;v.t=a,v.error=0;var Y=v.mo+v.mdot*v.t,c=v.argpo+v.argpdot*v.t,p=v.nodeo+v.nodedot*v.t;z=c,r=Y;var i0=v.t*v.t;if(k=p+v.nodecf*i0,t=1-v.cc1*v.t,N=v.bstar*v.cc4*v.t,s=v.t2cof*i0,v.isimp!==1){m=v.omgcof*v.t;var _=1+v.eta*Math.cos(Y);f=v.xmcof*(_*_*_-v.delmo),G=m+f,r=Y+G,z=c-G,C=i0*v.t,Z=C*v.t,t=t-v.d2*i0-v.d3*C-v.d4*Z,N+=v.bstar*v.cc5*(Math.sin(r)-v.sinmao),s=s+v.t3cof*C+Z*(v.t4cof+v.t*v.t5cof)}u=v.no;var B=v.ecco;if(L=v.inclo,v.method==="d"){h0=v.t;var m0={irez:v.irez,d2201:v.d2201,d2211:v.d2211,d3210:v.d3210,d3222:v.d3222,d4410:v.d4410,d4422:v.d4422,d5220:v.d5220,d5232:v.d5232,d5421:v.d5421,d5433:v.d5433,dedt:v.dedt,del1:v.del1,del2:v.del2,del3:v.del3,didt:v.didt,dmdt:v.dmdt,dnodt:v.dnodt,domdt:v.domdt,argpo:v.argpo,argpdot:v.argpdot,t:v.t,tc:h0,gsto:v.gsto,xfact:v.xfact,xlamo:v.xlamo,no:v.no,atime:v.atime,em:B,argpm:z,inclm:L,xli:v.xli,mm:r,xni:v.xni,nodem:k,nm:u},v0=R2(m0);B=v0.em,z=v0.argpm,L=v0.inclm,r=v0.mm,k=v0.nodem,u=v0.nm}if(u<=0)return v.error=2,[!1,!1];var g=Math.pow(J0/u,h2)*t*t;if(u=J0/Math.pow(g,1.5),B-=N,B>=1||B<-.001)return v.error=1,[!1,!1];B<1e-6&&(B=1e-6),r+=v.no*s,R=r+z+k,k%=d0,z%=d0,R%=d0,r=(R-z-k)%d0;var q0=Math.sin(L),g0=Math.cos(L),i=B;if(D=L,I=z,M=k,j=r,d=q0,l=g0,v.method==="d"){var h={inclo:v.inclo,init:"n",ep:i,inclp:D,nodep:M,argpp:I,mp:j,opsmode:v.operationmode},H=P2(v,h);if(i=H.ep,M=H.nodep,I=H.argpp,j=H.mp,D=H.inclp,D<0&&(D=-D,M+=_0,I-=_0),i<0||i>1)return v.error=3,[!1,!1]}v.method==="d"&&(d=Math.sin(D),l=Math.cos(D),v.aycof=-.5*Z0*d,Math.abs(l+1)>15e-13?v.xlcof=-.25*Z0*d*(3+5*l)/(1+l):v.xlcof=-.25*Z0*d*(3+5*l)/n0);var A=i*Math.cos(I);G=1/(g*(1-i*i));var X=i*Math.sin(I)+G*v.aycof,P=j+I+M+G*v.xlcof*A,T0=(P-M)%d0;b=T0,K=9999.9;for(var a0=1;Math.abs(K)>=1e-12&&a0<=10;)x=Math.sin(b),n=Math.cos(b),K=1-n*A-x*X,K=(T0-X*n+A*x-b)/K,Math.abs(K)>=.95&&(K>0?K=.95:K=-.95),b+=K,a0+=1;var f0=A*n+X*x,y=A*x-X*n,U=A*A+X*X,$=g*(1-U);if($<0)return v.error=4,[!1,!1];var S=g*(1-f0),T=Math.sqrt(g)*y/S,O=Math.sqrt($)/S,q=Math.sqrt(1-U);G=y/(1+q);var e=g/S*(x-X-A*G),J=g/S*(n-A+X*G);V=Math.atan2(e,J);var Q=(J+J)*e,F=1-2*e*e;G=1/$;var W=.5*V0*G,z0=W*G;v.method==="d"&&(w=l*l,v.con41=3*w-1,v.x1mth2=1-w,v.x7thm1=7*w-1);var l0=S*(1-1.5*z0*q*v.con41)+.5*W*v.x1mth2*F;if(l0<1)return v.error=6,{position:!1,velocity:!1};V-=.25*z0*v.x7thm1*Q;var A0=M+1.5*z0*l*Q,u0=D+1.5*z0*l*d*F,I0=T-u*W*v.x1mth2*Q/J0,S0=O+u*W*(v.x1mth2*F+1.5*v.con41)/J0,p0=Math.sin(V),x0=Math.cos(V),e0=Math.sin(A0),F0=Math.cos(A0),O0=Math.sin(u0),o0=Math.cos(u0),M0=-e0*o0,B0=F0*o0,G0=M0*p0+F0*x0,b0=B0*p0+e0*x0,X0=O0*p0,j0=M0*x0-F0*p0,H0=B0*x0-e0*p0,N0=O0*x0,k0={x:l0*G0*L0,y:l0*b0*L0,z:l0*X0*L0},w0={x:(I0*G0+S0*j0)*y2,y:(I0*b0+S0*H0)*y2,z:(I0*X0+S0*N0)*y2};return{position:k0,velocity:w0}}function c2(v,a){var n=a.opsmode,x=a.satn,l=a.epoch,d=a.xbstar,w=a.xecco,f=a.xargpo,m=a.xinclo,b=a.xmo,z=a.xno,I=a.xnodeo,V,C,Z,h0,K,G,t,N,s,L,r,u,k,D,R,j,M,n0,Y,c,p,i0,_,B,m0,v0,g,q0,g0,i,h,H,A,X,P,T0,a0,f0,y,U,$,S,T,O,q,e,J,Q,F,W,z0,l0,A0,u0,I0,S0,p0=15e-13;v.isimp=0,v.method="n",v.aycof=0,v.con41=0,v.cc1=0,v.cc4=0,v.cc5=0,v.d2=0,v.d3=0,v.d4=0,v.delmo=0,v.eta=0,v.argpdot=0,v.omgcof=0,v.sinmao=0,v.t=0,v.t2cof=0,v.t3cof=0,v.t4cof=0,v.t5cof=0,v.x1mth2=0,v.x7thm1=0,v.mdot=0,v.nodedot=0,v.xlcof=0,v.xmcof=0,v.nodecf=0,v.irez=0,v.d2201=0,v.d2211=0,v.d3210=0,v.d3222=0,v.d4410=0,v.d4422=0,v.d5220=0,v.d5232=0,v.d5421=0,v.d5433=0,v.dedt=0,v.del1=0,v.del2=0,v.del3=0,v.didt=0,v.dmdt=0,v.dnodt=0,v.domdt=0,v.e3=0,v.ee2=0,v.peo=0,v.pgho=0,v.pho=0,v.pinco=0,v.plo=0,v.se2=0,v.se3=0,v.sgh2=0,v.sgh3=0,v.sgh4=0,v.sh2=0,v.sh3=0,v.si2=0,v.si3=0,v.sl2=0,v.sl3=0,v.sl4=0,v.gsto=0,v.xfact=0,v.xgh2=0,v.xgh3=0,v.xgh4=0,v.xh2=0,v.xh3=0,v.xi2=0,v.xi3=0,v.xl2=0,v.xl3=0,v.xl4=0,v.xlamo=0,v.zmol=0,v.zmos=0,v.atime=0,v.xli=0,v.xni=0,v.bstar=d,v.ecco=w,v.argpo=f,v.inclo=m,v.mo=b,v.no=z,v.nodeo=I,v.operationmode=n;var x0=78/L0+1,e0=(120-78)/L0,F0=e0*e0*e0*e0;v.init="y",v.t=0;var O0={satn:x,ecco:v.ecco,epoch:l,inclo:v.inclo,no:v.no,method:v.method,opsmode:v.operationmode},o0=t2(O0),M0=o0.ao,B0=o0.con42,G0=o0.cosio,b0=o0.cosio2,X0=o0.eccsq,j0=o0.omeosq,H0=o0.posq,N0=o0.rp,k0=o0.rteosq,w0=o0.sinio;if(v.no=o0.no,v.con41=o0.con41,v.gsto=o0.gsto,v.a=Math.pow(v.no*_2,-2/3),v.alta=v.a*(1+v.ecco)-1,v.altp=v.a*(1-v.ecco)-1,v.error=0,j0>=0||v.no>=0){if(v.isimp=0,N0<220/L0+1&&(v.isimp=1),g=x0,p=F0,n0=(N0-1)*L0,n0<156){g=n0-78,n0<98&&(g=20);var C0=(120-g)/L0;p=C0*C0*C0*C0,g=g/L0+1}Y=1/H0,e=1/(M0-g),v.eta=M0*v.ecco*e,u=v.eta*v.eta,r=v.ecco*v.eta,c=Math.abs(1-u),G=p*Math.pow(e,4),t=G/Math.pow(c,3.5),h0=t*v.no*(M0*(1+1.5*u+r*(4+u))+.375*V0*e/c*v.con41*(8+3*u*(8+u))),v.cc1=v.bstar*h0,K=0,v.ecco>1e-4&&(K=-2*G*e*Z0*v.no*w0/v.ecco),v.x1mth2=1-b0,v.cc4=2*v.no*t*M0*j0*(v.eta*(2+.5*u)+v.ecco*(.5+2*u)-V0*e/(M0*c)*(-3*v.con41*(1-2*r+u*(1.5-.5*r))+.75*v.x1mth2*(2*u-r*(1+u))*Math.cos(2*v.argpo))),v.cc5=2*t*M0*j0*(1+2.75*(u+r)+r*u),N=b0*b0,T=1.5*V0*Y*v.no,O=.5*T*V0*Y,q=-.46875*X2*Y*Y*v.no,v.mdot=v.no+.5*T*k0*v.con41+.0625*O*k0*(13-78*b0+137*N),v.argpdot=-.5*T*B0+.0625*O*(7-114*b0+395*N)+q*(3-36*b0+49*N),Q=-T*G0,v.nodedot=Q+(.5*O*(4-19*b0)+2*q*(3-7*b0))*G0,J=v.argpdot+v.nodedot,v.omgcof=v.bstar*K*Math.cos(v.argpo),v.xmcof=0,v.ecco>1e-4&&(v.xmcof=-h2*G*v.bstar/r),v.nodecf=3.5*j0*Q*v.cc1,v.t2cof=1.5*v.cc1,Math.abs(G0+1)>15e-13?v.xlcof=-.25*Z0*w0*(3+5*G0)/(1+G0):v.xlcof=-.25*Z0*w0*(3+5*G0)/p0,v.aycof=-.5*Z0*w0;var P0=1+v.eta*Math.cos(v.mo);if(v.delmo=P0*P0*P0,v.sinmao=Math.sin(v.mo),v.x7thm1=7*b0-1,2*_0/v.no>=225){v.method="d",v.isimp=1,$=0,R=v.inclo;var K0={epoch:l,ep:v.ecco,argpp:v.argpo,tc:$,inclp:v.inclo,nodep:v.nodeo,np:v.no,e3:v.e3,ee2:v.ee2,peo:v.peo,pgho:v.pgho,pho:v.pho,pinco:v.pinco,plo:v.plo,se2:v.se2,se3:v.se3,sgh2:v.sgh2,sgh3:v.sgh3,sgh4:v.sgh4,sh2:v.sh2,sh3:v.sh3,si2:v.si2,si3:v.si3,sl2:v.sl2,sl3:v.sl3,sl4:v.sl4,xgh2:v.xgh2,xgh3:v.xgh3,xgh4:v.xgh4,xh2:v.xh2,xh3:v.xh3,xi2:v.xi2,xi3:v.xi3,xl2:v.xl2,xl3:v.xl3,xl4:v.xl4,zmol:v.zmol,zmos:v.zmos},o=V2(K0);v.e3=o.e3,v.ee2=o.ee2,v.peo=o.peo,v.pgho=o.pgho,v.pho=o.pho,v.pinco=o.pinco,v.plo=o.plo,v.se2=o.se2,v.se3=o.se3,v.sgh2=o.sgh2,v.sgh3=o.sgh3,v.sgh4=o.sgh4,v.sh2=o.sh2,v.sh3=o.sh3,v.si2=o.si2,v.si3=o.si3,v.sl2=o.sl2,v.sl3=o.sl3,v.sl4=o.sl4,C=o.sinim,V=o.cosim,s=o.em,L=o.emsq,i0=o.s1,_=o.s2,B=o.s3,m0=o.s4,v0=o.s5,q0=o.ss1,g0=o.ss2,i=o.ss3,h=o.ss4,H=o.ss5,A=o.sz1,X=o.sz3,P=o.sz11,T0=o.sz13,a0=o.sz21,f0=o.sz23,y=o.sz31,U=o.sz33,v.xgh2=o.xgh2,v.xgh3=o.xgh3,v.xgh4=o.xgh4,v.xh2=o.xh2,v.xh3=o.xh3,v.xi2=o.xi2,v.xi3=o.xi3,v.xl2=o.xl2,v.xl3=o.xl3,v.xl4=o.xl4,v.zmol=o.zmol,v.zmos=o.zmos,M=o.nm,F=o.z1,W=o.z3,z0=o.z11,l0=o.z13,A0=o.z21,u0=o.z23,I0=o.z31,S0=o.z33;var W0={inclo:R,init:v.init,ep:v.ecco,inclp:v.inclo,nodep:v.nodeo,argpp:v.argpo,mp:v.mo,opsmode:v.operationmode},E0=P2(v,W0);v.ecco=E0.ep,v.inclo=E0.inclp,v.nodeo=E0.nodep,v.argpo=E0.argpp,v.mo=E0.mp,k=0,D=0,j=0;var $0={cosim:V,emsq:L,argpo:v.argpo,s1:i0,s2:_,s3:B,s4:m0,s5:v0,sinim:C,ss1:q0,ss2:g0,ss3:i,ss4:h,ss5:H,sz1:A,sz3:X,sz11:P,sz13:T0,sz21:a0,sz23:f0,sz31:y,sz33:U,t:v.t,tc:$,gsto:v.gsto,mo:v.mo,mdot:v.mdot,no:v.no,nodeo:v.nodeo,nodedot:v.nodedot,xpidot:J,z1:F,z3:W,z11:z0,z13:l0,z21:A0,z23:u0,z31:I0,z33:S0,ecco:v.ecco,eccsq:X0,em:s,argpm:k,inclm:R,mm:j,nm:M,nodem:D,irez:v.irez,atime:v.atime,d2201:v.d2201,d2211:v.d2211,d3210:v.d3210,d3222:v.d3222,d4410:v.d4410,d4422:v.d4422,d5220:v.d5220,d5232:v.d5232,d5421:v.d5421,d5433:v.d5433,dedt:v.dedt,didt:v.didt,dmdt:v.dmdt,dnodt:v.dnodt,domdt:v.domdt,del1:v.del1,del2:v.del2,del3:v.del3,xfact:v.xfact,xlamo:v.xlamo,xli:v.xli,xni:v.xni},E=Z2($0);v.irez=E.irez,v.atime=E.atime,v.d2201=E.d2201,v.d2211=E.d2211,v.d3210=E.d3210,v.d3222=E.d3222,v.d4410=E.d4410,v.d4422=E.d4422,v.d5220=E.d5220,v.d5232=E.d5232,v.d5421=E.d5421,v.d5433=E.d5433,v.dedt=E.dedt,v.didt=E.didt,v.dmdt=E.dmdt,v.dnodt=E.dnodt,v.domdt=E.domdt,v.del1=E.del1,v.del2=E.del2,v.del3=E.del3,v.xfact=E.xfact,v.xlamo=E.xlamo,v.xli=E.xli,v.xni=E.xni}v.isimp!==1&&(Z=v.cc1*v.cc1,v.d2=4*M0*e*Z,S=v.d2*e*v.cc1/3,v.d3=(17*M0+g)*S,v.d4=.5*S*M0*e*(221*M0+31*g)*v.cc1,v.t3cof=v.d2+2*Z,v.t4cof=.25*(3*v.d3+v.cc1*(12*v.d2+10*Z)),v.t5cof=.2*(3*v.d4+12*v.cc1*v.d3+6*v.d2*v.d2+15*Z*(2*v.d2+Z)))}s2(v,0),v.init="n"}function v1(v,a){var n="i",x=1440/(2*_0),l=0,d={};d.error=0,d.satnum=v.substring(2,7),d.epochyr=parseInt(v.substring(18,20),10),d.epochdays=parseFloat(v.substring(20,32)),d.ndot=parseFloat(v.substring(33,43)),d.nddot=parseFloat(".".concat(parseInt(v.substring(44,50),10),"E").concat(v.substring(50,52))),d.bstar=parseFloat("".concat(v.substring(53,54),".").concat(parseInt(v.substring(54,59),10),"E").concat(v.substring(59,61))),d.inclo=parseFloat(a.substring(8,16)),d.nodeo=parseFloat(a.substring(17,25)),d.ecco=parseFloat(".".concat(a.substring(26,33))),d.argpo=parseFloat(a.substring(34,42)),d.mo=parseFloat(a.substring(43,51)),d.no=parseFloat(a.substring(52,63)),d.no/=x,d.inclo*=r2,d.nodeo*=r2,d.argpo*=r2,d.mo*=r2,d.epochyr<57?l=d.epochyr+2e3:l=d.epochyr+1900;var w=Q2(l,d.epochdays),f=w.mon,m=w.day,b=w.hr,z=w.minute,I=w.sec;return d.jdsatepoch=q2(l,f,m,b,z,I),c2(d,{opsmode:n,satn:d.satnum,epoch:d.jdsatepoch-24332815e-1,xbstar:d.bstar,xecco:d.ecco,xargpo:d.argpo,xinclo:d.inclo,xmo:d.mo,xno:d.no,xnodeo:d.nodeo}),d}const a1={appName:"Stuff in Space",baseUrl:"/StuffInSpace",propergateInterval:1e3,pushHistory:!1,logLevel:"debug",satWorker:{runOnce:!0},satelliteGroups:[{id:"GPSGroup",name:"GPS",groupType:"intlDes",data:["90103A","93068A","96041A","97035A","99055A","00025A","00040A","00071A","01004A","03005A","03010A","03058A","04009A","04023A","04045A","05038A","06042A","06052A","07047A","07062A","08012A","09043A","10022A","11036A","12053A","13023A","14008A","14026A","14045A","14068A","15013A"]},{id:"IridiumGroup",name:"Iridium Debris",groupType:"nameRegex",data:/IRIDIUM(?!.*DEB)/},{id:"Iridium33DebrisGroup",name:"Iridium 33 Debris",groupType:"nameRegex",data:/(COSMOS 2251|IRIDIUM 33) DEB/},{id:"GlonassGroup",name:"Glonass",groupType:"nameRegex",data:/GLONASS/},{id:"GalileoGroup",name:"Galileo",groupType:"nameRegex",data:/GALILEO/},{id:"FunGroup",name:"Fun",groupType:"nameRegex",data:/SYLDA/},{id:"WestfordNeedlesGroup",name:"Westford Needles",groupType:"nameRegex",data:/WESTFORD NEEDLES/},{id:"SpaceXGroup",name:"Space X",groupType:"nameRegex",data:/FALCON [19]/},{id:"DebrisGroup",name:"Debris",groupType:"objectType",data:"DEBRIS"},{id:"Starlink",name:"Starlink",groupType:"nameRegex",data:/STARLINK/},{id:"Unknown",name:"Unknown Objects",groupType:"objectType",data:"UNKNOWN"}]},m2=["error","warn","info","debug"],v2={};let g2={};function M2(v,a,n,...x){v.enabledOutputs[a]&&n(a.toUpperCase(),...x)}function B2(v){const a=m2.indexOf(v.toLowerCase());if(a<0)throw new Error("Unknown log level");for(let n=0;n<m2.length;n++)v2[m2[n]]=n<=a}function o1(){return{error:g2.error,warn:g2.warn,info:g2.info,debug:g2.debug,setLogLevel:B2}}function d1(){g2={error:M2.bind(this,{enabledOutputs:v2},"error",console.error),warn:M2.bind(this,{enabledOutputs:v2},"warn",console.warn),info:M2.bind(this,{enabledOutputs:v2},"info",console.info),debug:M2.bind(this,{enabledOutputs:v2},"debug",console.debug)};for(let v=0;v<m2.length;v++)v2[m2[v]]=!0}d1(),B2(a1.logLevel);var A2=o1();let b2;const a2=[];let H2;function K2(v){const a=new Float32Array((b2+1)*3);if(!a2||!a2[v])return;const n=new Date;let x=q2(n.getUTCFullYear(),n.getUTCMonth()+1,n.getUTCDate(),n.getUTCHours(),n.getUTCMinutes(),n.getUTCSeconds());x+=n.getUTCMilliseconds()*115741e-13;const l=(x-a2[v].jdsatepoch)*1440,w=2*Math.PI/a2[v].no/b2;for(let f=0;f<b2+1;f++){const m=l+f*w,b=s2(a2[v],m).position;try{a[f*3]=b.x/3185.5,a[f*3+1]=b.z/3185.5,a[f*3+2]=b.y/3185.5}catch{a[f*3]=0,a[f*3+1]=0,a[f*3+2]=0}}postMessage({pointsOut:a.buffer,satId:v})}onmessage=function(v){if(A2.debug("WORKER: Orbital calculation worker handling message"),v.data.isInit){H2=Date.now(),A2.debug("id",H2),A2.debug("message.data.isInit");const a=JSON.parse(v.data.satData);for(let n=0;n<a.length;n++)a2[n]=v1(a[n].TLE_LINE1,a[n].TLE_LINE2);b2=v.data.numSegs}else{const{satId:a}=v.data;if(Array.isArray(a)){const n=a;for(let x=0;x<n.length;x++)K2(n[x])}else K2(a)}}})();
